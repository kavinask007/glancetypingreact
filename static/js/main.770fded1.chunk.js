(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{17:function(t,e,s){"use strict";s.r(e);var i=s(0),r=s(2),a=s.n(r),n=s(10),c=s.n(n),o=s(3),l=s(4),h=s(6),d=s(5),u=s(7),m=s.n(u),p=s(8),y=s(1),j=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(o.a)(this,s),(i=e.call(this,t)).handleclick=i.handleclick.bind(Object(y.a)(i)),i.state={nooptions:!0,difficulty:!1,highscore:!1,reset:!1,options:!0,restartcolor:"red",difficultyindicator:"Easy"},i.props.parentCallback(!1),i.props.parentcallback("easy"),i}return Object(l.a)(s,[{key:"handleclick",value:function(t){"optionsbutton"===t.target.id&&this.setState({nooptions:!1}),"closeoptions"===t.target.id&&this.setState({nooptions:!0}),t.target.id,"backbutton"===t.target.id&&this.setState({options:!0}),"difficultybutton"===t.target.id&&("Easy"===this.state.difficultyindicator?(this.setState({difficultyindicator:"Medium"}),this.props.parentcallback("medium")):"Medium"===this.state.difficultyindicator?(this.setState({difficultyindicator:"Hard"}),this.props.parentcallback("hard")):"Hard"===this.state.difficultyindicator&&(this.setState({difficultyindicator:"Easy"}),this.props.parentcallback("easy"))),"autorestart"===t.target.id&&("red"===this.state.restartcolor?(this.setState({restartcolor:"green"}),this.props.parentCallback(!0),localStorage.setItem("autorestart",!0),t.preventDefault()):(this.setState({restartcolor:"red"}),this.props.parentCallback(!1),t.preventDefault()))}},{key:"componentDidMount",value:function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.addEventListener("click",this.handleclick),fetch("api/login/").then((function(t){return t.text()})).then((function(t){return console.log(t)}));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.nooptions?Object(i.jsxs)("header",{children:[Object(i.jsx)("div",{children:Object(i.jsx)("h2",{className:"nav-content",id:"optionsbutton",children:"Options"})}),Object(i.jsx)("div",{children:Object(i.jsx)("a",{href:"/",target:"_self",style:{textDecoration:"none"},children:Object(i.jsx)("h1",{className:"nav-content",children:" Glance Typing"})})}),Object(i.jsx)("a",{href:"about",target:"_self",style:{textDecoration:"none"},children:Object(i.jsx)("div",{className:"nav-content",style:{fontSize:"27px"},children:"About"})})]}):!this.state.nooptions&&this.state.options?Object(i.jsxs)("header",{children:[Object(i.jsx)("h2",{className:"nav-content",children:"Options"}),Object(i.jsx)("div",{children:Object(i.jsx)("a",{href:"/",target:"_self",style:{textDecoration:"none"},children:Object(i.jsx)("h1",{className:"nav-content",children:" Glance Typing"})})}),Object(i.jsx)("a",{href:"about",target:"_self",style:{textDecoration:"none"},children:Object(i.jsx)("div",{className:"nav-content",style:{fontSize:"27px"},children:"About"})}),Object(i.jsxs)("div",{className:"optionsdiv",children:[Object(i.jsxs)("h1",{className:"options-content",id:"difficultybutton",children:["Difficulty :",this.state.difficultyindicator]}),Object(i.jsxs)("h1",{className:"options-content",children:["Highscore : ",localStorage.getItem("wpm")]}),Object(i.jsx)("h1",{className:"options-content",id:"autorestart",style:{color:this.state.restartcolor},children:"Auto restart"}),Object(i.jsx)("div",{className:"close",id:"closeoptions",children:"X"})]})]}):void 0}}]),s}(a.a.Component),f=[["a ","picture ","is ","worth ","a ","thousand ","words"],["a ","stich ","in ","time ","saves ","nine"],["cowards ","die ","many ","times ","before ","their ","death"],["make ","hay ","while ","the ","sun ","shines"],["never ","test ","the ","depth ","of ","water ","with ","both ","feet"],["rome ","was ","not ","build ","in ","a ","day"],["all ","that ","glitters ","is ","not ","gold"],["not ","all ","those ","who ","wander ","are ","lost"],["the ","only ","constant ","is ","change"],["the ","past ","does ","not ","equal ","the ","future"],["a ","bad ","workman ","always ","blames ","his ","tools"],["a ","bird ","in ","hand ","is ","worth ","two ","in ","the ","bush"],["a ","chain ","is ","only ","as ","strong ","as ","its ","weakest ","link"],["keep ","your ","mouth ","shut ","and ","your ","eyes ","open"],["what ","you ","do ","is ","more ","important ","than ","what ","you ","say"],["all ","good ","things ","must ","come ","to ","an ","end"],["beauty ","is ","in ","the ","eye ","of ","the ","beholder"],["hope ","for ","the ","best, ","prepare ","for ","the ","worst"],["keep ","your ","friends ","close, ","and ","your ","enemies ","closer"],["the ","grass ","is ","always ","greener ","on ","the ","other ","side"]],b=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(o.a)(this,s),(i=e.call(this,t)).state={isEnterPressed:!1},i.enterpress=i.enterpress.bind(Object(y.a)(i)),i.enterclick=i.enterclick.bind(Object(y.a)(i)),i}return Object(l.a)(s,[{key:"enterpress",value:function(t){13===t.keyCode&&(this.setState({isEnterPressed:!0}),window.removeEventListener("keydown",this.enterpress),window.removeEventListener("click",this.enterclick))}},{key:"enterclick",value:function(t){"enterid"===t.target.id&&(this.setState({isEnterPressed:!0}),window.removeEventListener("click",this.enterclick),window.removeEventListener("keydown",this.enterpress))}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.enterpress),window.addEventListener("click",this.enterclick)}},{key:"render",value:function(){return this.state.isEnterPressed?Object(i.jsx)("main",{children:Object(i.jsxs)(k,{children:[Object(i.jsx)("div",{className:"caret",style:{display:"none"}}),Object(i.jsx)(v,{autorestart:this.props.autorestart,difficulty:this.props.difficulty})]})}):Object(i.jsx)("main",{children:Object(i.jsx)("h1",{className:"nav-content",id:"enterid",children:"Hit enter to start"})})}}]),s}(a.a.Component),v=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(o.a)(this,s),(i=e.call(this,t)).finalsentence=f[Math.round(Math.random()*f.length)],i.handlekeypress=i.handlekeypress.bind(Object(y.a)(i)),i.starteventlistener=i.starteventlistener.bind(Object(y.a)(i)),i.state={time:3,istimeover:!1,tinterv:"",wpm:0,accuracy:0,testtime:0,gamerunning:!0,gamefailed:!1},i.tick=i.tick.bind(Object(y.a)(i)),i.gameover=i.gameover.bind(Object(y.a)(i)),i.totalkeystrokes=0,i.correctwords=0,i.wrongwords=0,i.calctesttime=i.calctesttime.bind(Object(y.a)(i)),i.gamefailed=i.gamefailed.bind(Object(y.a)(i)),i}return Object(l.a)(s,[{key:"tick",value:function(){this.state.time>=1&&this.setState((function(t){return{time:t.time-1}})),0===this.state.time&&(clearInterval(this.state.tinterv),this.setState({istimeover:!0}),this.starteventlistener())}},{key:"handlekeypress",value:function(t){"Backspace"===t.key&&this.num>0?(this.num-=1,document.getElementsByClassName("caret")[0].style.left=Math.round(this.letterarray[this.num].getClientRects()[0].x)+"px",document.getElementsByClassName("caret")[0].style.top=Math.round(this.letterarray[this.num].getClientRects()[0].y)+"px",this.letterarray[this.num].style.opacity=.2,this.letterarray[this.num].style.color="white",this.letterarray[this.num].style.background="none",this.letterarray[this.num].style.width="30px",this.letterarray[this.num].classList.remove("correct"),this.letterarray[this.num].classList.remove("wrong")):this.letterarray[this.num].textContent===t.key?(this.totalkeystrokes+=1,this.num<this.letterarray.length-1&&(document.getElementsByClassName("caret")[0].style.left=Math.round(this.letterarray[this.num+1].getClientRects()[0].x)+"px",document.getElementsByClassName("caret")[0].style.top=Math.round(this.letterarray[this.num+1].getClientRects()[0].y)+"px"),this.letterarray[this.num].classList.add("active"),this.letterarray[this.num].style.opacity=1,this.letterarray[this.num].style.color="white",this.letterarray[this.num].classList.add("correct"),this.num+=1,this.num===this.letterarray.length&&this.gameover()):t.key!==this.letterarray[this.num].textContent&&(this.totalkeystrokes+=1,this.num<this.letterarray.length-1&&(document.getElementsByClassName("caret")[0].style.left=Math.round(this.letterarray[this.num+1].getClientRects()[0].x)+"px",document.getElementsByClassName("caret")[0].style.top=Math.round(this.letterarray[this.num+1].getClientRects()[0].y)+"px"),this.letterarray[this.num].style.opacity=1," "===this.letterarray[this.num].textContent?(this.letterarray[this.num].style.background="red",this.letterarray[this.num].style.width="5px",this.letterarray[this.num].classList.add("wrong"),this.num+=1):(this.letterarray[this.num].style.color="red",this.letterarray[this.num].classList.add("wrong"),this.num+=1,this.num===this.letterarray.length&&this.gameover()))}},{key:"starteventlistener",value:function(){this.testtime=setInterval(this.calctesttime,1e3),window.addEventListener("keyup",this.handlekeypress),this.letterarray=document.getElementsByClassName("letter"),this.num=0,document.getElementsByClassName("caret")[0].style.display="block",document.getElementsByClassName("caret")[0].style.left=Math.round(this.letterarray[this.num].getClientRects()[0].x)+"px",document.getElementsByClassName("caret")[0].style.top=Math.round(this.letterarray[this.num].getClientRects()[0].y)+"px"}},{key:"gameover",value:function(){document.getElementsByClassName("caret")[0].style.display="none",window.removeEventListener("keyup",this.handlekeypress),clearInterval(this.testtime),this.correctwords=document.getElementsByClassName("correct").length,this.wrongwords=document.getElementsByClassName("wrong").length,this.setState({accuracy:Math.round(this.correctwords/this.totalkeystrokes*100)}),this.setState({gamerunning:!1})}},{key:"gamefailed",value:function(){document.getElementsByClassName("caret")[0].style.display="none",window.removeEventListener("keyup",this.handlekeypress),clearInterval(this.testtime),this.correctwords<=1&&(this.props.autorestart=!1),this.setState({gamerunning:!1}),this.setState({gamefailed:!0})}},{key:"calctesttime",value:function(){"hard"===this.props.difficulty&&7===this.state.testtime&&this.gamefailed(),"medium"===this.props.difficulty&&10===this.state.testtime&&this.gamefailed(),"easy"===this.props.difficulty&&20===this.state.testtime&&this.gamefailed(),this.setState((function(t){return{testtime:t.testtime+1}}))}},{key:"componentDidMount",value:function(){this.setState({tinterv:setInterval(this.tick,1e3)})}},{key:"render",value:function(){var t=this;return this.state.gamerunning?this.state.istimeover?Object(i.jsxs)("div",{className:"typingarea",children:[Object(i.jsx)("div",{className:"timer",children:Math.round(this.state.testtime)}),Object(i.jsx)("div",{className:"typerwrap",children:this.finalsentence.map((function(e,s){return Object(i.jsx)(x,{word:e,ishidden:!0,difficulty:t.props.difficulty},s)}))})]}):(this.finalsentence||(this.finalsentence=f[Math.round(Math.random()*f.length+1)]),Object(i.jsxs)("div",{className:"typingarea",children:[Object(i.jsx)("div",{className:"timer",children:this.state.time}),Object(i.jsx)("div",{className:"typerwrap",children:this.finalsentence.map((function(e,s){return Object(i.jsx)(x,{word:e,ishidden:!1,difficulty:t.props.difficulty},s)}))})]})):this.state.gamerunning||this.state.gamefailed?this.state.gamefailed?Object(i.jsx)(g,{autorestart:this.props.autorestart,difficulty:this.props.difficulty}):void 0:Object(i.jsx)(w,{correctwords:this.correctwords,wrongwords:this.wrongwords,accuracy:this.state.accuracy,testtime:Math.round(this.state.testtime),autorestart:this.props.autorestart,difficulty:this.props.difficulty})}}]),s}(a.a.Component);function x(t){var e=t.word.split("");return Object(i.jsx)("div",{className:"word",children:e.map((function(e,s){return Object(i.jsx)(O,{letter:e,ishidden:t.ishidden,difficulty:t.difficulty},s)}))})}function O(t){var e=0;return"easy"===t.difficulty?e=.2:("medium"===t.difficulty||"hard"===t.difficulty)&&(e=0),t.ishidden?Object(i.jsx)("span",{className:"letter",style:{opacity:e},children:t.letter}):Object(i.jsx)("span",{className:"letter",children:t.letter})}var w=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;Object(o.a)(this,s),(i=e.call(this,t)).state={nextround:!1,displayraw:!1},i.sendresulttoserver=i.sendresulttoserver.bind(Object(y.a)(i)),i.nextclick=i.nextclick.bind(Object(y.a)(i)),i.wpm=Math.round((i.props.correctwords+i.props.wrongwords)/5/(i.props.testtime/60)),i.netwpm=Math.round(((i.props.correctwords+i.props.wrongwords)/5-i.props.wrongwords)/(i.props.testtime/60)),i.netwpm<0&&(i.netwpm=0),i.sendresulttoserver();var r=localStorage.getItem("wpm");return i.netwpm>r&&localStorage.setItem("wpm",i.netwpm),i.getCookie=i.getCookie.bind(Object(y.a)(i)),i}return Object(l.a)(s,[{key:"getCookie",value:function(t){var e=null;if(document.cookie&&""!==document.cookie)for(var s=document.cookie.split(";"),i=0;i<s.length;i++){var r=s[i].trim();if(r.substring(0,t.length+1)===t+"="){e=decodeURIComponent(r.substring(t.length+1));break}}return e}},{key:"nextclick",value:function(){this.setState({nextround:!0})}},{key:"sendresulttoserver",value:function(){var t=Object(p.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.getCookie("csrftoken"),fetch("api/result/",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8","X-CSRFToken":e},body:JSON.stringify({wpm:this.netwpm,accuracy:this.props.accuracy})});case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.wpm===this.netwpm&&this.setState({displayraw:!0})}},{key:"render",value:function(){var t=this;return this.state.nextround||this.state.displayraw||this.props.autorestart?this.state.nextround||!this.state.displayraw||this.props.autorestart?this.state.nextround||this.state.displayraw||!this.props.autorestart?!this.state.nextround&&this.state.displayraw&&this.props.autorestart?(setTimeout((function(){t.nextclick()}),2e3),Object(i.jsxs)("div",{className:"resultspage",children:[Object(i.jsxs)("h1",{children:["wpm",Object(i.jsx)("h1",{children:this.netwpm})]}),Object(i.jsxs)("h1",{children:["Accuracy",Object(i.jsxs)("h1",{children:[this.props.accuracy,"%"]})]})]})):Object(i.jsx)(v,{autorestart:this.props.autorestart,difficulty:this.props.difficulty}):(setTimeout((function(){t.nextclick()}),1500),Object(i.jsxs)("div",{className:"resultspage",children:[Object(i.jsxs)("h1",{children:["raw wpm",Object(i.jsx)("h1",{children:this.wpm})]}),Object(i.jsxs)("h1",{children:["wpm",Object(i.jsx)("h1",{children:this.netwpm})]}),Object(i.jsxs)("h1",{children:["Accuracy",Object(i.jsxs)("h1",{children:[this.props.accuracy,"%"]})]})]})):Object(i.jsxs)("div",{className:"resultspage",children:[Object(i.jsxs)("h1",{children:["Wpm",Object(i.jsx)("h1",{children:this.netwpm})]}),Object(i.jsxs)("h1",{children:["Accuracy",Object(i.jsxs)("h1",{children:[this.props.accuracy,"%"]})]}),Object(i.jsx)("button",{onClick:this.nextclick,children:"Next"})]}):Object(i.jsxs)("div",{className:"resultspage",children:[Object(i.jsxs)("h1",{children:["raw wpm",Object(i.jsx)("h1",{children:this.wpm})]}),Object(i.jsxs)("h1",{children:["wpm",Object(i.jsx)("h1",{children:this.netwpm})]}),Object(i.jsxs)("h1",{children:["Accuracy",Object(i.jsxs)("h1",{children:[this.props.accuracy,"%"]})]}),Object(i.jsx)("button",{onClick:this.nextclick,children:"Next"})]})}}]),s}(a.a.Component),g=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(o.a)(this,s),(i=e.call(this,t)).state={nextround:!1},i.nextclick=i.nextclick.bind(Object(y.a)(i)),i}return Object(l.a)(s,[{key:"nextclick",value:function(){this.setState({nextround:!0})}},{key:"render",value:function(){var t=this;return this.state.nextround||this.props.autorestart?!this.state.nextround&&this.props.autorestart?(setTimeout((function(){t.nextclick()}),1500),Object(i.jsxs)("div",{className:"resultspage",children:[Object(i.jsx)(C,{}),Object(i.jsx)("h1",{className:"nav-content",children:"Time Over"})]})):Object(i.jsx)(v,{autorestart:this.props.autorestart,difficulty:this.props.difficulty}):Object(i.jsxs)("div",{className:"resultspage",children:[Object(i.jsx)(C,{}),Object(i.jsx)("h1",{className:"nav-content",children:"Time Over"}),Object(i.jsx)("button",{onClick:this.nextclick,children:"Next"})]})}}]),s}(a.a.Component),k=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(o.a)(this,s),(i=e.call(this,t)).state={hasError:!1},i}return Object(l.a)(s,[{key:"render",value:function(){return this.state.hasError?Object(i.jsx)("h1",{className:"nav-content",children:"Something went wrong Please refresh the page"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),s}(a.a.Component);function C(){return Object(i.jsxs)("svg",{viewBox:"0 0 1101 812",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(i.jsx)("path",{d:"M549.5 726.5C726.231 726.5 869.5 583.231 869.5 406.5C869.5 229.769 726.231 86.5 549.5 86.5C372.769 86.5 229.5 229.769 229.5 406.5C229.5 583.231 372.769 726.5 549.5 726.5Z",fill:"black",stroke:"white","stroke-width":"23"}),Object(i.jsx)("circle",{cx:"434.01",cy:"342.21",r:"64.5",fill:"white"}),Object(i.jsx)("circle",{cx:"666.01",cy:"342.21",r:"64.5",fill:"white"}),Object(i.jsx)("path",{d:"M547.814 560.271C537.125 561.026 486.831 565.388 455.197 581.45C450.118 584.107 444.348 585.678 438.396 586.022C428.23 586.506 416.443 583.216 423.468 563.093C434.844 530.18 504.478 491.815 548.277 492.825C590.397 493.797 640.643 506.853 674.774 556.102C678.045 560.84 679.728 566.241 679.646 571.737C679.5 581.842 675.421 594.595 652.504 581.021C621.541 562.691 563.559 560.438 551.934 560.174C550.561 560.145 549.185 560.177 547.814 560.271Z",fill:"white"})]})}var N=b,E=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(){var t;return Object(o.a)(this,s),(t=e.call(this)).handleCallback=function(e){t.setState({data:e})},t.handlecallback=function(e){t.setState({difficulty:e})},t.state={data:!0,difficulty:"easy"},t}return Object(l.a)(s,[{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(j,{parentCallback:this.handleCallback,parentcallback:this.handlecallback}),Object(i.jsx)(N,{autorestart:this.state.data,difficulty:this.state.difficulty})]})}}]),s}(a.a.Component);c.a.render(Object(i.jsx)(E,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.770fded1.chunk.js.map